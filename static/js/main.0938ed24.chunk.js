(this["webpackJsonpapi-testing"]=this["webpackJsonpapi-testing"]||[]).push([[0],{12:function(e,t,a){e.exports={header:"MainNavigation_header__2578p",nav:"MainNavigation_nav__3Ol3q",list:"MainNavigation_list__2O2mZ"}},13:function(e,t,a){e.exports={Card:"Card_Card__2a4wv",Image:"Card_Image__3Lp5b",Content:"Card_Content__3f-63",Action:"Card_Action__rB9bf"}},14:function(e,t,a){e.exports={notification:"Notification_notification__190M_",appear:"Notification_appear__2kJBy","slide-down":"Notification_slide-down__F1rMn",disappear:"Notification_disappear__2r0rh","slide-up":"Notification_slide-up__2QH3l"}},15:function(e,t,a){e.exports={CardLg:"CardDetails_CardLg__2yrg0",Content:"CardDetails_Content__2UNsM",Image:"CardDetails_Image__1midF"}},22:function(e,t,a){e.exports={main:"Layout_main__b0FbL"}},23:function(e,t,a){e.exports={list:"CardList_list__G6PBw",empty:"CardList_empty__1ADMk"}},29:function(e,t,a){},30:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(20),r=a.n(c),s=(a(29),a(2)),i=(a(30),a(5)),o=a(12),d=a.n(o),j=a(0),l=function(){return Object(j.jsx)("header",{className:d.a.header,children:Object(j.jsx)("nav",{className:d.a.nav,children:Object(j.jsxs)("ul",{className:d.a.list,children:[Object(j.jsx)("li",{className:d.a.links,children:Object(j.jsx)(i.b,{to:"/",children:"View all"})}),Object(j.jsx)("li",{children:Object(j.jsx)(i.b,{to:"/add-cover",children:"Add new"})})]})})})},b=a(22),h=a.n(b),u=function(e){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(l,{}),Object(j.jsx)("main",{className:h.a.main,children:e.children})]})},O=a(3),m=a(24),x=a(13),f=a.n(x),g=a(14),_=a.n(g),p=function(e){var t=Object(n.useState)(_.a.appear),a=Object(s.a)(t,2),c=a[0],r=a[1];return Object(j.jsxs)("div",{className:"".concat(_.a.notification," ").concat(c),children:[Object(j.jsx)("h3",{children:e.notificationMsg}),Object(j.jsx)("button",{onClick:function(){r(_.a.disappear)},children:"Dismiss"})]})},C=function(e){var t=Object(n.useState)(null),a=Object(s.a)(t,2),c=a[0],r=a[1],o=new AbortController;return Object(j.jsxs)(j.Fragment,{children:[c&&Object(j.jsx)(p,{notificationMsg:c}),Object(j.jsxs)("li",{className:f.a.Card,children:[Object(j.jsxs)(i.b,{to:"/cards/".concat(e.id),children:[Object(j.jsx)("div",{className:f.a.Image,children:Object(j.jsx)("img",{src:e.imgPath,alt:""})}),Object(j.jsxs)("div",{className:f.a.Content,children:[Object(j.jsx)("h3",{children:e.title}),Object(j.jsx)("p",{children:e.msg})]})]}),Object(j.jsx)("div",{className:f.a.Action,children:Object(j.jsx)("button",{onClick:function(){return r(null),fetch("https://react-cards-28644-default-rtdb.firebaseio.com/cards/".concat(e.id,".json"),{method:"DELETE",signal:o.signal}).then((function(t){if(!t.ok)throw Error("Could not delete");e.setCards([])})).catch((function(e){o.signal.aborted||r(e.message)})),function(){return o.abort()}},children:Object(j.jsx)("i",{className:"far fa-trash-alt"})})})]})]})},v=a(23),N=a.n(v),I=function(e){var t=e.setTitle,a=Object(n.useState)([]),c=Object(s.a)(a,2),r=c[0],i=c[1],o=Object(n.useState)(!0),d=Object(s.a)(o,2),l=d[0],b=d[1];return Object(n.useEffect)((function(){var e=new AbortController;return fetch("https://react-cards-28644-default-rtdb.firebaseio.com/cards.json",{signal:e.signal}).then((function(e){if(!e.ok)throw Error("Could not fetch the data :(");return e.json()})).then((function(e){var a=[];for(var n in e){var c=Object(m.a)({id:n},e[n]);a.push(c)}i(a),b(!1),0===a.length?t("No cards yet"):t("All Cards")})).catch((function(a){e.signal.aborted||(b(!1),t(a.message))})),function(){return e.abort()}}),[t,r.length]),Object(j.jsxs)(j.Fragment,{children:[l&&Object(j.jsx)(j.Fragment,{}),r.length>0&&Object(j.jsx)("ul",{className:N.a.list,children:r.map((function(e){return Object(j.jsx)(C,{id:e.id,title:e.title,msg:e.msg,imgPath:e.imagePath,cards:r,setCards:i},e.id)}))})]})},F=function(){var e=Object(n.useState)("Loading Cards..."),t=Object(s.a)(e,2),a=t[0],c=t[1];return Object(j.jsxs)("section",{children:[Object(j.jsx)("h1",{children:a}),Object(j.jsx)(I,{setTitle:c})]})},A=a(6),S=a.n(A),k=function(e){var t=Object(O.g)(),a=Object(n.useState)(null),c=Object(s.a)(a,2),r=c[0],i=c[1],o=Object(n.useState)(!1),d=Object(s.a)(o,2),l=d[0],b=d[1],h=Object(n.useState)(S.a.normal),u=Object(s.a)(h,2),m=u[0],x=u[1],f=Object(n.useState)(S.a.normal),g=Object(s.a)(f,2),_=g[0],C=g[1],v=Object(n.useState)(""),N=Object(s.a)(v,2),I=N[0],F=N[1],A=Object(n.useState)(""),k=Object(s.a)(A,2),w=k[0],y=k[1],E="/images/card".concat(e.imageIndex,".jpg");return Object(j.jsxs)(j.Fragment,{children:[l&&Object(j.jsx)("h1",{style:{marginTop:"2rem"},children:"Adding Card..."}),!l&&Object(j.jsxs)("form",{className:S.a.Form,onSubmit:function(e){if(e.preventDefault(),x(S.a.normal),C(S.a.normal),i(null),(I.length>16||I.length<1)&&(w.length>40||w.length<1))return x(S.a.bad),void C(S.a.bad);if(I.length>16||I.length<1)x(S.a.bad);else{if(!(w.length>40||w.length<1)){var a=new AbortController;b(!0);var n={title:I,msg:w,imagePath:E};return fetch("https://react-cards-28644-default-rtdb.firebaseio.com/cards.json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n),signal:a.signal}).then((function(e){if(!e.ok)throw Error("Could not add");t.replace("/")})).catch((function(e){a.signal.aborted||(i(e.message),b(!1))})),function(){return a.abort()}}C(S.a.bad)}},children:[Object(j.jsx)("label",{htmlFor:"title",children:"Title"}),Object(j.jsx)("span",{children:"16 characters max"}),Object(j.jsx)("input",{autoFocus:!0,className:m,type:"text",id:"title",value:I,onChange:function(e){return F(e.target.value)}}),Object(j.jsx)("label",{htmlFor:"msg",children:"Message"}),Object(j.jsx)("span",{children:"40 characters max"}),Object(j.jsx)("input",{className:_,type:"text",id:"msg",value:w,onChange:function(e){return y(e.target.value)}}),Object(j.jsx)("button",{className:S.a.Button,children:"Add"})]}),r&&Object(j.jsx)(p,{notificationMsg:r})]})},w=function(e){var t=e.imageIndex;return Object(j.jsxs)("section",{children:[Object(j.jsx)("h1",{children:"Enter Card Details"}),Object(j.jsx)(k,{imageIndex:t})]})},y=function(e){var t=e.imageIndex,a=e.setImageIndex,c=Object(n.useState)(1),r=Object(s.a)(c,2),i=r[0],o=r[1];return Object(n.useEffect)((function(){a(i)}),[t,i,a]),Object(j.jsxs)("div",{className:S.a.Carousel,children:[Object(j.jsx)("i",{className:"fas fa-caret-left",onClick:function(){o(1===i?6:i-1)}}),Object(j.jsx)("div",{className:S.a.ImageCont,children:Object(j.jsx)("img",{src:"/images/card".concat(t,".jpg"),alt:"card".concat(t,".jpg")})}),Object(j.jsx)("i",{className:"fas fa-caret-right",onClick:function(){o(6===i?1:i+1)}})]})},E=function(e){var t=e.imageIndex,a=e.setImageIndex;return Object(j.jsxs)("div",{className:"main-container",children:[Object(j.jsx)("h1",{children:"Pick a Background"}),Object(j.jsx)(y,{imageIndex:t,setImageIndex:a}),Object(j.jsx)(i.b,{to:"/add-form",className:"button",children:"Next"})]})},M=a(15),L=a.n(M),P=function(){var e=Object(O.h)().id,t=Object(n.useState)(null),a=Object(s.a)(t,2),c=a[0],r=a[1],i=Object(n.useState)(null),o=Object(s.a)(i,2),d=o[0],l=o[1],b=Object(n.useRef)();return Object(n.useEffect)((function(){var t=new AbortController;return r({}),fetch("https://react-cards-28644-default-rtdb.firebaseio.com/cards/".concat(e,".json"),{signal:t.signal}).then((function(e){if(!e.ok)throw Error("Could not fetch that card data");return e.json()})).then((function(e){r(e)})).catch((function(e){t.signal.aborted||(l(e.message),r(null))})),function(){return t.abort()}}),[e]),d||c?Object(j.jsxs)(j.Fragment,{children:[d&&Object(j.jsx)("h1",{children:d}),c&&Object(j.jsxs)("div",{className:L.a.CardLg,ref:b,children:[Object(j.jsx)("div",{className:L.a.Image,children:Object(j.jsx)("img",{src:c.imagePath,alt:""})}),Object(j.jsxs)("div",{className:L.a.Content,children:[Object(j.jsx)("h3",{children:c.title}),Object(j.jsx)("p",{children:c.msg})]})]})]}):Object(j.jsx)("h1",{children:"This card does not exist"})},B=function(){return Object(j.jsxs)("section",{children:[Object(j.jsx)("h1",{children:"Page not found."}),Object(j.jsx)("h3",{children:Object(j.jsx)(i.b,{to:"/",children:"Go back to Home page"})})]})};var D=function(){var e=Object(n.useState)(0),t=Object(s.a)(e,2),a=t[0],c=t[1];return Object(j.jsx)(u,{children:Object(j.jsxs)(O.d,{children:[Object(j.jsx)(O.b,{path:"/",exact:!0,children:Object(j.jsx)(F,{})}),Object(j.jsx)(O.b,{path:"/add-form",children:0===a?Object(j.jsx)(O.a,{to:"/add-cover"}):Object(j.jsx)(w,{imageIndex:a})}),Object(j.jsx)(O.b,{path:"/add-cover",children:Object(j.jsx)(E,{imageIndex:a,setImageIndex:c})}),Object(j.jsx)(O.b,{path:"/cards/:id",children:Object(j.jsx)(P,{})}),Object(j.jsx)(O.b,{path:"*",children:Object(j.jsx)(B,{})})]})})};r.a.render(Object(j.jsx)(i.a,{children:Object(j.jsx)(D,{})}),document.getElementById("root"))},6:function(e,t,a){e.exports={Form:"AddCardForm_Form__1_NMo",normal:"AddCardForm_normal__hKnch",bad:"AddCardForm_bad__3LPBm",Button:"AddCardForm_Button__4hqZd",ImageCont:"AddCardForm_ImageCont__2cmOZ",Carousel:"AddCardForm_Carousel__1rx58"}}},[[40,1,2]]]);
//# sourceMappingURL=main.0938ed24.chunk.js.map